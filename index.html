<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Imposter Q — Party Game</title>
<style>
  :root {
    --bg: #0b0f14;
    --panel: #141b24;
    --muted: #9aa6b2;
    --accent: #7ce7ff;
    --text: #ffffff;
    --danger: #ff6b6b;
  }
  html, body {
    height: 100%;
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  }
  .wrap { min-height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px; }
  .card {
    width: 100%; max-width: 720px;
    background: var(--panel); border-radius: 16px; padding: 24px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.5);
  }
  h1 { font-size: 24px; margin-top: 0; }
  p.lead { color: var(--muted); font-size: 14px; margin-top: 4px; line-height: 1.5; }

  label { font-size: 14px; color: var(--muted); }
  select {
    background: var(--panel);
    color: var(--text);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 10px;
    padding: 10px 12px;
    font-size: 16px;
    width: 100%;
    box-sizing: border-box;
  }
  select:focus { outline: none; border-color: var(--accent); }
  button {
    background: var(--accent);
    color: #000;
    border: none;
    padding: 12px 18px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
  }
  button.ghost {
    background: transparent;
    color: var(--text);
    border: 1px solid rgba(255,255,255,0.15);
  }
  button.danger {
    background: var(--danger);
    color: #fff;
  }
  .controls { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 16px; }
  .center { text-align: center; }
  .big { font-size: 28px; font-weight: 700; margin: 16px 0; }
  .question-box {
    background: #0f1720;
    border-radius: 12px;
    padding: 18px;
    text-align: center;
    min-height: 120px;
    display: flex; align-items: center; justify-content: center;
  }
  .question-text { font-size: 24px; line-height: 1.2; }
  .hidden { display: none; }
  .note { font-size: 13px; color: var(--muted); margin-top: 8px; text-align: center; }
  @media (max-width: 520px) {
    button { width: 100%; }
    .controls { flex-direction: column; }
    .question-text { font-size: 20px; }
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Imposter Q</h1>
    <p class="lead">
      Each player gets a question and answers it in their head.<br>
      Pass the device around.<br><br>
      When everyone gets their question, they go around answering.<br>
      <b>DO NOT TALK UNTIL AFTER THE REAL QUESTION IS REVEALED.</b><br><br>
      Then the real question is shown. Players guess who the imposter is.<br>
      <b>Justify your answer — even if you’re the imposter.</b><br><br>
      Once the imposter is revealed, everyone shares their question.<br>
      A moderator can view the real and imposter questions at the end.
    </p>

    <!-- Setup -->
    <section id="setup">
      <div class="controls">
        <div style="flex:1">
          <label>Mode</label>
          <select id="mode">
            <option value="number">Number</option>
            <option value="answer">Answer</option>
          </select>
        </div>
        <div>
          <label>Players</label>
          <select id="players"></select>
        </div>
        <div>
          <label>Imposters</label>
          <select id="imposters"></select>
        </div>
      </div>
      <div style="margin-top:16px">
        <button id="startBtn">Start Game</button>
      </div>
    </section>

    <!-- Player Phase -->
    <section id="playerFlow" class="hidden center">
      <div class="big" id="statusText">Player 1 — ready?</div>
      <div class="question-box">
        <div id="prompt" class="question-text">Press “Show my question” when ready.</div>
      </div>
      <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center">
        <button id="showQ">Show my question</button>
        <button id="nextBtn" class="ghost hidden">Next player</button>
      </div>
      <div class="note" id="progressNote"></div>
      <div style="margin-top:16px;display:flex;justify-content:center;gap:10px;flex-wrap:wrap">
        <button id="revealBtn" class="ghost hidden">Reveal Questions</button>
        <button id="restart1" class="danger">Restart</button>
      </div>
    </section>

    <!-- Reveal -->
    <section id="reveal" class="hidden center">
      <div class="big">Reveal Questions</div>
      <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button id="showReal">Show Real Question</button>
        <button id="showFake">Show Imposter Question</button>
      </div>
      <div class="question-box" style="margin-top:16px">
        <div id="finalQ" class="question-text">Press a button to reveal.</div>
      </div>
      <div style="margin-top:16px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button id="restart2" class="danger">Restart</button>
      </div>
    </section>
  </div>
</div>

<script>
// -----------------------------
// Embedded question bank
// -----------------------------
const data = {
  number: [
    { real: "How many legs does a spider have?", imposter: "How many legs does an ant have?" },
    { real: "How many continents are there?", imposter: "How many oceans are there?" },
    { real: "How many days in a leap year?", imposter: "How many months in a year?" },
    { real: "How many stripes on the US flag?", imposter: "How many stars on the US flag?" },
    { real: "How many bones are in the human body?", imposter: "How many muscles are in the human body?" }
  ],
  answer: [
    { real: "Name something that can fly.", imposter: "Name something that can swim." },
    { real: "Say a color found on a rainbow.", imposter: "Say a color not found on a rainbow." },
    { real: "Name a fruit that is red.", imposter: "Name a vegetable that is red." },
    { real: "Say a day of the week.", imposter: "Say a month of the year." },
    { real: "Name an animal you can keep as a pet.", imposter: "Name a wild animal." }
  ]
};

// -----------------------------
// Game logic
// -----------------------------
function pickOne(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

const playersSel = document.getElementById('players');
for (let i = 2; i <= 12; i++) {
  const o = document.createElement('option');
  o.value = i; o.textContent = i;
  playersSel.appendChild(o);
}
playersSel.value = 4;

const impostersSel = document.getElementById('imposters');
function fillImposters() {
  impostersSel.innerHTML = "";
  const p = parseInt(playersSel.value, 10);
  for (let i = 1; i < p; i++) {
    const o = document.createElement('option');
    o.value = i; o.textContent = i;
    impostersSel.appendChild(o);
  }
  impostersSel.value = 1;
}
playersSel.addEventListener('change', fillImposters);
fillImposters();

let players = 4, imposters = 1, imposterSet = new Set(), current = 0;
let chosen = { real: "", imposter: "" };

function startGame() {
  players = parseInt(playersSel.value, 10);
  imposters = parseInt(impostersSel.value, 10);
  imposterSet = new Set();
  while (imposterSet.size < imposters)
    imposterSet.add(Math.floor(Math.random() * players));
  const mode = document.getElementById('mode').value;
  const pool = data[mode] || [];
  chosen = pickOne(pool) || { real: "Missing", imposter: "Missing" };
  current = 0;
  showSection('playerFlow');
  updatePlayerUI();
}

function updatePlayerUI() {
  document.getElementById('statusText').textContent = `Player ${current + 1} — ready?`;
  document.getElementById('prompt').textContent = 'Press “Show my question” when ready.';
  document.getElementById('showQ').classList.remove('hidden');
  document.getElementById('nextBtn').classList.add('hidden');
  document.getElementById('revealBtn').classList.add('hidden');
  document.getElementById('progressNote').textContent = `(${current + 1}/${players})`;
}

document.getElementById('showQ').onclick = () => {
  const text = imposterSet.has(current) ? chosen.imposter : chosen.real;
  document.getElementById('prompt').textContent = text;
  document.getElementById('showQ').classList.add('hidden');
  document.getElementById('nextBtn').classList.remove('hidden');
};
document.getElementById('nextBtn').onclick = () => {
  current++;
  if (current >= players) {
    document.getElementById('prompt').textContent = "All players have their question.";
    document.getElementById('nextBtn').classList.add('hidden');
    document.getElementById('revealBtn').classList.remove('hidden');
  } else updatePlayerUI();
};
document.getElementById('revealBtn').onclick = () => showSection('reveal');
document.getElementById('showReal').onclick = () => document.getElementById('finalQ').textContent = chosen.real;
document.getElementById('showFake').onclick = () => document.getElementById('finalQ').textContent = chosen.imposter;

// Restart buttons
['restart1','restart2'].forEach(id => {
  document.getElementById(id).onclick = () => location.reload();
});

function showSection(id) {
  ['setup','playerFlow','reveal'].forEach(s => {
    document.getElementById(s).classList.add('hidden');
  });
  document.getElementById(id).classList.remove('hidden');
}

document.getElementById('startBtn').onclick = () => startGame();
</script>
</body>
</html>
